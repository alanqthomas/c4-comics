"use strict";!function(){var a=angular.module("c4",["ui.router","ngCookies","angular-google-gapi"]);a.run(["GAuth","GData","GApi","$rootScope","$window","$state","authService",function(a,b,c,d,e,f,g){var h="432508624556-h5pq1n44nmg5p21r55mubj54cnuptojv.apps.googleusercontent.com",i="//"+window.location.host+"/_ah/api";c.load("userendpoint","v1",i).then(function(a){console.log("userendpoint: ",a)}),a.setClient(h),a.setScope("https://www.googleapis.com/auth/userinfo.email"),d.$on("$stateChangeStart",function(a,b,c,d,e){var h=!1;g.checkAuth().then(function(a){h=a}),b.authenticate&&!h&&(f.transitionTo("home"),a.preventDefault())})}])}(),function(){var a=angular.module("c4");a.config(function(a,b){b.otherwise("/home"),a.state("home",{url:"/home",templateUrl:"views/home.html",authenticate:!1}).state("profile",{url:"/profile",templateUrl:"views/profile.html",authenticate:!1}).state("comic",{url:"/comic",templateUrl:"views/comic.html",authenticate:!1}).state("browse",{url:"/browse",templateUrl:"views/browse.html",authenticate:!1}).state("series",{url:"/series",templateUrl:"views/series.html",authenticate:!1}).state("draw",{url:"/draw",templateUrl:"views/draw.html",authenticate:!1}).state("editComic",{url:"/editComic",templateUrl:"views/editComic.html",authenticate:!1}).state("search",{url:"/search",templateUrl:"views/search.html",authenticate:!1})})}(),function(){angular.module("c4").controller("browseCtrl",["$scope","$http",function(a,b){a.msg="Hello, profile"}])}(),function(){angular.module("c4").controller("comicCtrl",["$scope","$http",function(a,b){a.msg="Hello, profile"}])}(),function(){angular.module("c4").controller("drawCtrl",["$scope","$http",function(a,b){a.msg="Hello, profile"}])}(),function(){angular.module("c4").controller("editComicCtrl",["$scope","$http",function(a,b){a.msg="Hello, profile"}])}(),function(){angular.module("c4").controller("homeCtrl",["$scope","$http","GApi","authService",function(a,b,c,d){a.msg="Scores",a.predicate="name",a.order=function(b){a.predicate=b},c.execute("userendpoint","listUser").then(function(b){a.users=b.items,angular.forEach(a.users,function(a){a.score=parseInt(a.score)})}),a.insertUser=function(){a.form.id=null,c.execute("userendpoint","insertUser",a.form).then(function(b){console.log(b),a.users.add(b)})},a.getUser=function(a){c.execute("userendpoint","getUser",{id:a}).then(function(a){console.log(a)})},a.updateUser=function(){c.execute("userendpoint","updateUser",a.form).then(function(a){console.log(a)})},a.removeUser=function(b){console.log("id: ",b),c.execute("userendpoint","removeUser",{id:b}).then(function(c){console.log(c),a.users.remove(function(a){return a.id==b})})}}])}(),function(){angular.module("c4").controller("navCtrl",["$scope","$http","GAuth","GApi",function(a,b,c,d){a.ifLogin=function(){a.logMsg="Out"},a.ifLogout=function(){a.logMsg="In"},a.checkLog=function(){c.checkAuth().then(a.ifLogin(),a.ifLogout()),a.signMsg="Sign "+a.logMsg},c.checkAuth().then(a.ifLogin(),a.ifLogout()),a.signMsg="Sign "+a.logMsg,a.logFunc=function(){c.checkAuth().then(function(){c.logout(),a.checkLog()},function(){c.login(),a.checkLog()})}}])}(),function(){angular.module("c4").controller("profileCtrl",["$scope","$http",function(a,b){a.msg="Hello, profile"}])}(),function(){angular.module("c4").controller("searchCtrl",["$scope","$http",function(a,b){a.msg="Hello, profile"}])}(),function(){angular.module("c4").controller("seriesCtrl",["$scope","$http",function(a,b){a.msg="Hello, profile"}])}(),function(){angular.module("c4").factory("authService",["GAuth","$q",function(a,b){return{checkAuth:function(){var c=b.defer();return a.checkAuth().then(function(){c.resolve(!0)},function(){c.resolve(!1)}),c.promise}}}])}();