"use strict";!function(){var a=angular.module("c4",["ui.router","ngCookies","angular-google-gapi"]);a.run(["GAuth","GData","GApi","$rootScope","$window","$state","authService",function(a,b,c,d,e,f,g){var h="432508624556-h5pq1n44nmg5p21r55mubj54cnuptojv.apps.googleusercontent.com",i="//"+window.location.host+"/_ah/api";c.load("userendpoint","v1",i).then(function(a){console.log("userendpoint: ",a)}),a.setClient(h),a.setScope("https://www.googleapis.com/auth/userinfo.email"),d.$on("$stateChangeStart",function(a,b,c,d,e){var h=!1;g.checkAuth().then(function(a){h=a}),b.authenticate&&!h&&(f.transitionTo("home"),a.preventDefault())})}])}(),function(){var a=angular.module("c4");a.config(function(a,b){b.otherwise("/home"),a.state("home",{url:"/home",templateUrl:"views/home.html",authenticate:!1}).state("profile",{url:"/profile",templateUrl:"views/profile.html",authenticate:!1}).state("comic",{url:"/comic",templateUrl:"views/comic.html",authenticate:!1}).state("series",{url:"/series",templateUrl:"views/series.html",authenticate:!1}).state("editComic",{url:"/editComic",templateUrl:"views/editComic.html",authenticate:!1}).state("draw",{url:"/draw",templateUrl:"views/draw.html",authenticate:!1}).state("manage-comics",{url:"/manage-comics",templateUrl:"views/manage-comics.html",authenticate:!1}).state("manage-subscriptions",{url:"/manage-subscriptions",templateUrl:"views/manage-subscriptions.html",authenticate:!1}).state("new-comic",{url:"/new-comic",templateUrl:"views/new-comic.html",authenticate:!1}).state("subscription",{url:"/subscription",templateUrl:"views/subscription.html",authenticate:!1}).state("subscriptions",{url:"/subscriptions",templateUrl:"views/subscriptions.html",authenticate:!1})})}(),function(){angular.module("c4").controller("homeCtrl",["$scope","$http","GApi","authService",function(a,b,c,d){a.msg="Scores",a.predicate="name",a.order=function(b){a.predicate=b},c.execute("userendpoint","listUser").then(function(b){a.users=b.items,angular.forEach(a.users,function(a){a.score=parseInt(a.score)})}),a.insertUser=function(){a.form.id=null,c.execute("userendpoint","insertUser",a.form).then(function(b){console.log(b),a.users.add(b)})},a.getUser=function(a){c.execute("userendpoint","getUser",{id:a}).then(function(a){console.log(a)})},a.updateUser=function(){c.execute("userendpoint","updateUser",a.form).then(function(a){console.log(a)})},a.removeUser=function(b){console.log("id: ",b),c.execute("userendpoint","removeUser",{id:b}).then(function(c){console.log(c),a.users.remove(function(a){return a.id==b})})}}])}(),function(){angular.module("c4").controller("profileCtrl",["$scope","$http","GApi","GAuth",function(a,b,c,d){a.msg="Hello, profile",a.getComics=function(){var b={author:a.name};c.execute("UserEndpoint","getComics",b).then(function(b){a.comics=b.items},function(a){console.log("error no result")})},a.getFavorites=function(){({user:a.name});c.execute("UserEndpoint","getFavorites",resultReg).then(function(b){a.fav=b.items},function(a){console.log("error no favs")})},a.getBio=function(){var b={user:a.name};c.execute("UserEndpoints","getBio",b).then(function(b){a.fav=b.items},function(a){console.log("errors no bio")})},$(document).ready(function(){$("#series").click(function(){$("#srs-cont").hide()})})}])}(),function(){angular.module("c4").controller("comicCtrl",["$scope","$http",function(a,b){a.msg="Hello, profile"}])}(),function(){angular.module("c4").controller("drawCtrl",["$scope","$http",function(a,b){a.msg="Hello, profile"}])}(),function(){angular.module("c4").controller("manageComicsCtrl",["$scope","$http",function(a,b){a.msg="Hello, profile"}])}(),function(){angular.module("c4").controller("editComicCtrl",["$scope","$http",function(a,b){a.msg="Hello, profile"}])}(),function(){angular.module("c4").controller("manageSubscriptionsCtrl",["$scope","$http",function(a,b){a.msg="Hello, profile"}])}(),function(){angular.module("c4").controller("newComicCtrl",["$scope","$http",function(a,b){a.msg="Hello, profile"}])}(),function(){angular.module("c4").controller("subscriptionCtrl",["$scope","$http",function(a,b){a.msg="Hello, profile"}])}(),function(){angular.module("c4").controller("subscriptionsCtrl",["$scope","$http",function(a,b){a.msg="Hello, profile"}])}(),function(){angular.module("c4").factory("authService",["GAuth","$q",function(a,b){return{checkAuth:function(){var c=b.defer();return a.checkAuth().then(function(){c.resolve(!0)},function(){c.resolve(!1)}),c.promise}}}])}();