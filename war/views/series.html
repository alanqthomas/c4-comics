<div ng-controller="seriesCtrl">
	<div class='container1'>
		<div> 
			<p>{{bg_img}}</p>
			<!-- have some way of extracting current user -->
			<div class='container'>
				<div class="row">
					<h1 class="h1_centered" style='text-align:center'>{{series.title}}</h1>
				</div>
			</div>
		</div>
	</div>
	
	<div class='container'>
		<div class='row'>
			<h3 class="h3_hover" ng-click='goToAuthor()'>{{author_name}}</h3>
		</div>
		<div class='row'>
			<p>Rating {{series.rating}}/10</p>
		</div>
		<div class='row'>
			<h3>Summary</h3>
		</div>
		<div class='row'>
			<p>{{series.description}}</p>
		</div>
		
		<div ng-show='logged_in && !is_owner'>
			<div class='row' ng-if='!subbed'>
				<button type='button' class='btn btn-primary' ng-click="subscribe()"> Subscribe </button>
			</div>
			<div class='row' ng-if='subbed'>
				<button type='button' class='btn btn-primary' ng-click='unsubscribe()'> Unsubscribe </button>
			</div>
		</div>
		
	</div>
	
	<div class='container'>
		<div class='row'>
			<h3>Comics</h3>
		</div>
		<!-- if there are pages -->
		<div ng-if='comics.length > 0'>
			<!-- TODO, need to dynamically generate pages -->
			<!-- to my understanding how infi scroll works
			calls loadMore() everytime at end. Ng-repeat to generate images
			 -->
			<div infinite-scroll='loadMore()' infinite-scroll-distance='.2'>
				<div class='col-xs-6 col-sm-3 col-md-2 col-lg-2' ng-repeat='comic in comics'>
					<img ng-src={{getFirstPageURL(comic.page[0])}} class='img-responsive' ng-click="goToComics(comic.id)">
				</div>
			</div>
		</div>
		<!-- if there are no pages -->
		<div ng-if='comics.length == 0'>
			<p>No Pages Available, Sorry :(</p>
		</div>
	</div>
</div>
