<div ng-controller="seriesCtrl">

	<div class="cover">
		<h2>{{series.title}}</h2>

		<div ng-show="logged_in && !is_owner">
			<button ng-if="!subbed" class="btn btn-sm btn-primary" ng-click="subscribe()">
				Subscribe
			</button>

			<button ng-if="subbed" class="btn btn-sm btn-danger" ng-click="unsubscribe()">
				Unsubscribe
			</button>
		</div>
	</div>

	<div class="content-wrapper">
		<h4 ng-click="goToAuthor()">Author: {{author_name}}</h4>
		<h4>Description</h4>
		<p>{{series.description}}</p>

		<h4>Rating: {{series.rating}}</h4>

	</div>

	<div class='container'>
		<div class='row'>
			<h3>Comics</h3>
		</div>
		<!-- if there are pages -->
		<div ng-if='comics.length > 0'>
			<!-- TODO, need to dynamically generate pages -->
			<!-- to my understanding how infi scroll works
			calls loadMore() everytime at end. Ng-repeat to generate images
			 -->
			<div infinite-scroll='loadMore()' infinite-scroll-distance='.2'>
				<div class='col-xs-6 col-sm-3 col-md-2 col-lg-2' ng-repeat='comic in comics'>
					<img ng-src={{getFirstPageURL(comic.page[0])}} class='img-responsive' ng-click="goToComics(comic.id)">
				</div>
			</div>
		</div>
		<!-- if there are no pages -->
		<div ng-if='comics.length == 0'>
			<p>No comics in this series! :(</p>
		</div>
	</div>
</div>
